<!DOCTYPE html>
<html>
  <head>
    <link rel="shortcut icon" type="image/x-icon" href="../../favicon.ico" />
<link href="../../css/bootstrap/bootstrap.css" rel="stylesheet" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<link href="../../css/bootstrap/bootstrap-responsive.css" rel="stylesheet" />
<link rel="stylesheet" type="text/css" href="../../css/swc.css" />
<link rel="stylesheet" type="text/css" href="../../css/swc-bootstrap.css" />
<link rel="alternate" type="application/rss+xml" title="The Software Carpentry Blog" href="/feed.xml"/>
<meta http-equiv="last-modified" content="" />
<!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
<!--[if lt IE 9]>
  <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->

  </head>
  <body>
    <div class="container">
      <div class="banner">
  <a href="http://software-carpentry.org" title="Software Carpentry">
    <img alt="Software Carpentry banner" src="../../img/software-carpentry-banner.png" />
  </a>
</div>


      <div class="row-fluid">
        <div class="span10 offset1">
          <h1></h1>
          <h1>Title: A bit more shell</h1>

<h2>Download and open lesson material:</h2>

<p>Open your terminal or Gitbash, and enter  </p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">cd                    # changes to your home directory
curl http://giladlab.uchicago.edu/data/Metahit_index.txt &gt; Metahit_index.txt
</code></pre></div>
<h2>What&#39;s going on?</h2>

<p>The curl command sends an HTTP request and dumps the result to standard out.  Here, we redirect the output of curl to <code>Metahit_index.txt</code></p>

<h2>Sanity check</h2>

<p>The above command <em>should</em> have downloaded a data table.  Let&#39;s check that the data are in the expected format--tab-delimeted text.
    head Metahit_index.txt
    4475667.3   MH0001  Denmark female  49  25.55   N   20203603    human-associated habitat
    4475668.3   MH0002  Denmark female  59  27.28   N   20203603    human-associated habitat
    ...
If this is what you see, you have the right table.  If not, you may need to troubleshoot why curl didn&#39;t give you what you were expecting.</p>

<h2>Let&#39;s move and copy the data:</h2>

<p>Let&#39;s move the data into the repo directory. This is what we would do if it were really our project: we&#39;d have a folder named &quot;Future Nature Paper&quot; and place our data in it, rather than clogging up our home directory. The command <code>mv</code> moves the data:</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">mv Metahit_index.txt ~/2014-05-12-cshl
</code></pre></div>

<p>This is clearly very important data. Let&#39;s make a back up of the data so that while we&#39;re making python scripts and running them we don&#39;t accidentally destroy the data.</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">cp Metahit_index.txt Metahit_index.bakcup.txt
</code></pre></div>
<p>While we are working through python examples in a bit, if you happen to damage your file, now you have a back up you can revert to. </p>

<h2>Let&#39;s explore the data:</h2>
<div class="highlight"><pre><code class="text language-text" data-lang="text">less Metahit_index.txt
</code></pre></div>
<p>You&#39;ll see the data has several columns: 
1. identifier 
2. another identifier 
3. country of origin
4. sex
5. age
6. BMI
7. disease status
8. PMID of the Metahit paper
9. sampling location</p>

<p>Let&#39;s look at the bottom of the file using <code>tail</code>:</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">tail Metahit_index.txt
</code></pre></div>
<p>How many individuals are in this study?</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">wc -l Metahit_index.txt
</code></pre></div>
<h2>Grep</h2>

<p>One very cool function that you can run in the shell is <code>grep</code>. <code>grep</code> is a search tool, which will search for words you enter line by line. For instance, in our data we have Danish individuals and Spanish individuals. If we want to see the data for just the Spanish individuals we can type:</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">grep Spain Metahit_index.txt
</code></pre></div>
<p>If we wanted to see only females:</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">grep female Metahit_index.txt
</code></pre></div>
<p>What happens if we want to see only males?</p>

<h2>Piping</h2>

<p>We didn&#39;t properly get to explore piping yesterday. Let&#39;s explore piping to get preliminary summary statistics on this data. Piping is essentially chaining together commands one after the other in your computer and you will get as output only the very final data coming out of the last command. So, we can use the pipe, grep, and word count command to do some interesting things:</p>

<p>How many women were in the study?</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">grep female Metahit_index.txt | wc -l
</code></pre></div>
<hr>

<p><strong>Short Exercise</strong></p>

<ol>
<li><p>Find how many Spanish people were in the study.</p></li>
<li><p>Pull out all of the information for only the first five people that did not have a disease in the dataset and save it to a file in your home directory called 5-healthy-spanish-participants.txt. </p></li>
</ol>

<hr>

	</div>
      </div>

      <div class="footer">
  <a class="label swc-blue-bg" href="https://www.facebook.com/SoftwareCarpentry">Facebook</a>
  <a class="label swc-blue-bg" href="https://plus.google.com/u/0/114244759874490019250/posts">Google+</a>
  <a class="label swc-blue-bg" href="https://twitter.com/swcarpentry">Twitter</a>
  <a class="label swc-blue-bg" href="https://github.com/swcarpentry">GitHub</a>
  <a class="label swc-blue-bg" href="http://software-carpentry.org/feed.xml">RSS</a>
  <a class="label swc-blue-bg" href="../../license.html">License</a>
  <a class="bugreport label swc-blue-bg" href="mailto:info@software-carpentry.org?subject=bug%20in%20lessons/thw-shell/moreshell.md">Bug Report</a>
</div>

    </div>
    <!-- Le javascript
================================================== -->
<!-- Placed at the end of the document so the pages load faster -->
<script src="../../js/jquery-1.9.1.min.js"></script>
<script src="../../js/bootstrap/bootstrap.min.js"></script>

  </body>
</html>
